<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Page Title</title>

  <script src="Vector3.js"></script>
  <script src="Vector4.js"></script>
  <script src="Matrix3.js"></script>
  <script src="Matrix4.js"></script>
  <script src="figuras/Cilindro.js"></script>
  <script src="figuras/Cono.js"></script>
  <script src="figuras/Dodecaedro.js"></script>
  <script src="figuras/Esfera.js"></script>
  <script src="figuras/Icosaedro.js"></script>
  <script src="figuras/Octaedro.js"></script>
  <script src="figuras/PrismaRectangular.js"></script>
  <script src="figuras/Tetraedro.js"></script>
  <script src="figuras/Toro.js"></script>
  <script src="Main.js"></script>

  <!--Pruebas-->
    <!--<script type="text/javascript" src="test/Vector3Test.js"></script>
    <script type="text/javascript" src="test/Matrix3Test.js"></script>
    <script type="text/javascript" src="test/Vector4Test.js"></script>
    <script type="text/javascript" src="test/Matrix4test.js"></script>-->
</head>

<body>
  <canvas id="the_canvas" width="800" height="600" style="border: 1px dotted gray;"></canvas>
  <br>
  <input type="checkbox" id="wire_ckbx" onclick="selectDrawMode()"><label for=”wire_ckbx”>Wireframe</label>
  <br>
  <input type="checkbox" id="especular_ckbx" onclick="selectDrawMode()"><label for=”especular_ckbx”>Reflexión especular</label>

  <script id="2d-vertex-shader" type="vertex-shader">
  attribute vec4 a_position;
  attribute vec3 a_normal;

  uniform mat4 u_VM_matrix;
  uniform mat4 u_PVM_matrix;

  varying vec3 v_position;
  varying vec3 v_normal;
  
  void main() {
    v_normal = vec3( u_VM_matrix * vec4(a_normal, 0) );
    v_position = vec3( u_VM_matrix * a_position );

    gl_Position = u_PVM_matrix * a_position;
  }
  </script>

  <script id="2d-fragment-shader" type="fragment-shader">
  precision mediump float;

  varying vec3 v_position;
  varying vec3 v_normal;

  // Posición de la luz
  uniform vec3 u_light_position;
  // Color del objeto
  uniform vec4 u_color;
  // Color de la luz ambiental
  uniform vec3 u_light_color;
  // Coeficiente ambiental
  // Color de la luz difusa
  // Coeficiente difuso
  // Color de la luz especular
  // Coeficiente especular
  // Brillo especular

  void main() {
    vec3 to_light = normalize( u_light_position - v_position );
    vec3 fragment_normal = normalize(v_normal);

    float cos_angle = max(dot(fragment_normal, to_light), 0.0);

    // Calculo de relfexión difusa
    gl_FragColor = vec4(vec3(u_color) * cos_angle, u_color.a);
  }
  </script>

</body>

</html>